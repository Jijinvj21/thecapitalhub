"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[8850],{3343:function(e,n,t){t.d(n,{Z:function(){return o}});t(72791);t.p;var s=t(59434),a=t(80184),o=function(e){var n;e.className,e.text,e.width,(0,s.v9)((function(e){return e.user.loggedInUser})),n=(new Date).toDateString(),new Date(n).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"});return(0,a.jsx)(a.Fragment,{})}},29452:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var s=t(74165),a=t(15861),o=t(29439),c=t(72791),r=t(45513),i=t(3343),l=t(16294),d=t(80272),u=t(89254),h=t(59434),m=t(11087),p=t(32328),x=t(79012),f=t(97827),v=t(44),g=t(57689),j=t(92986),y=t(31824),N=t(80184);function b(){var e=(0,h.v9)((function(e){return e.user.loggedInUser})),n=(0,h.I0)(),t=(0,g.s0)(),b=(0,c.useState)([]),C=(0,o.Z)(b,2),k=C[0],w=C[1],Z=(0,c.useState)(!1),S=(0,o.Z)(Z,2),_=S[0],I=S[1],D=(0,c.useState)([]),P=(0,o.Z)(D,2),U=P[0],E=P[1],L=(0,c.useState)(null),A=(0,o.Z)(L,2),F=A[0],O=A[1],T=(0,c.useState)(!1),Q=(0,o.Z)(T,2),q=Q[0],H=Q[1],z=(0,c.useState)(!1),B=(0,o.Z)(z,2),G=B[0],J=B[1];(0,c.useEffect)((function(){document.title="Company Profile | Investors - The Capital Hub",n((0,j.Iw)("Company Profile"))}),[]),(0,c.useEffect)((function(){I(!0),"true"===(null===e||void 0===e?void 0:e.isInvestor)&&(I(!0),(0,u.Q2)(e.investor).then((function(e){var n=e.data;w(n),I(!1)})).catch((function(e){console.log(e.message),I(!1)})).finally((function(){I(!1)})))}),[e.investor]);var K=function(e){var n=e.target.value;console.log(n),(0,u.T8)(n).then((function(e){var n=e.data;E(n),console.log(n)})).catch((function(){E([])})),O(null)},M=function(e,n){O(e),document.querySelector(".search-company-input").value=n},R=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(){var a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.nw)(e._id,F);case 3:200===(a=t.sent).status&&(n((0,f.he)(a.data)),H(!0),(0,u.Q2)(F).then((function(e){var n=e.data;w(n),O(null),E([])})).catch((function(e){console.error("Error adding as investor:",e.message)}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var o=(0,a.Z)((0,s.Z)().mark((function a(o){var c,r,i;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(J(!1),!o){s.next=15;break}return s.prev=2,c={userId:e._id,investor:null},s.next=6,(0,u.pp)(c);case 6:r=s.sent,i=r.data,n((0,f.he)(i.data)),t("/investor/company-profile/edit"),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(2),console.log(s.t0);case 15:case"end":return s.stop()}}),a,null,[[2,12]])})));return function(e){return o.apply(this,arguments)}}();return(0,N.jsxs)(p.Z,{children:[(0,N.jsxs)("div",{className:"investor_companyProfilePage__wrapper ps-lg-3",children:[(0,N.jsxs)("div",{className:"main__content",children:[(0,N.jsx)(i.Z,{text:"Company Profile"}),(0,N.jsx)("div",{className:"investor-edit-container",children:!_&&(0,N.jsx)(N.Fragment,{children:0!==k.length?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"bg-white rounded-4 p-4 shadow-sm border",children:(0,N.jsx)(m.rU,{to:"/investor/company-profile/edit",className:"text-decoration-none text-dark fs-5",children:"Edit company details"})}),(0,N.jsx)("p",{}),(0,N.jsxs)("div",{className:"bg-white rounded-4 p-4",children:[(0,N.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Choose from an existing Company"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",{type:"text",placeholder:"Search company",className:"search-company-input",onChange:K}),0!==U.length&&(0,N.jsx)("div",{className:"suggestion",children:U.map((function(e,n){return(0,N.jsxs)("div",{className:"suggestion-item ".concat(F===e._id?"active":""),onClick:function(){return M(e._id,e.companyName)},children:[(0,N.jsx)("img",{src:e.logo||x,alt:"Company Logo ".concat(n),className:"suggestion-logo"}),e.companyName]},n)}))}),(0,N.jsx)("button",{className:"btn-base investor",onClick:R,children:"Save"})]})]})]}):(0,N.jsxs)("div",{className:"bg-white rounded-4 p-4",children:[(0,N.jsx)(m.rU,{to:"/investor/company-profile/edit",className:"text-decoration-none text-dark fs-5",children:(0,N.jsx)("button",{className:"btn-base investor",children:"Add company details"})}),(0,N.jsx)("div",{className:"or-text-container",children:(0,N.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Or"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Choose from an existing Company"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",{type:"text",placeholder:"Search company",className:"search-company-input",onChange:K}),0!==U.length&&(0,N.jsx)("div",{className:"suggestion",children:U.map((function(e,n){return(0,N.jsxs)("div",{className:"suggestion-item ".concat(F===e._id?"active":""),onClick:function(){return M(e._id,e.companyName)},children:[(0,N.jsx)("img",{src:e.logo||x,alt:"Company Logo ".concat(n),className:"suggestion-logo"}),e.companyName]},n)}))}),(0,N.jsx)("button",{className:"btn-base investor",onClick:R,children:"Save"})]})]})]})})}),_?(0,N.jsx)("div",{className:"mx-auto w-100 bg-white rounded-4 p-5 d-flex justify-content-center min-vh-100",children:(0,N.jsx)("div",{class:"spinner-grow yellow",role:"status",children:(0,N.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):0===k.length?(0,N.jsx)("div",{className:"bg-white rounded-4 p-4",children:(0,N.jsx)("p",{children:"No company found."})}):(0,N.jsx)(r.Z,{isOnelink:!0,investorData:k,startup:"false",isStartup:"false"}),(0,N.jsx)("button",{className:"btn-base investor",onClick:function(){return J(!0)},children:"Create new company profile"})]}),(0,N.jsxs)("div",{className:"right__content",children:[(0,N.jsx)(l.Z,{}),(0,N.jsx)(d.Z,{})]}),q&&(0,N.jsx)(v.Z,{onClose:function(){return H(!q)},successText:"Company Added Successfully"})]}),G&&(0,N.jsx)(y.Z,{children:(0,N.jsxs)("div",{className:"py-3",children:[(0,N.jsx)("h4",{children:"Are you sure you want to add a new company?"}),(0,N.jsxs)("div",{className:"d-flex justify-content-center  gap-2 mx-auto py-2",children:[(0,N.jsx)("button",{className:"btn btn-danger",onClick:function(){V(!0)},children:"Ok"}),(0,N.jsx)("button",{className:"btn",style:{backgroundColor:"#d3f36b"},onClick:function(){return J(!1)},children:"Cancel"})]})]})})]})}}}]);
//# sourceMappingURL=8850.a3ac5ec7.chunk.js.map