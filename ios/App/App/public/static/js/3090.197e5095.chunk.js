"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[3090],{65201:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(74165),o=n(15861),s=n(4942),r=n(1413),i=n(29439),u=n(72791),l=n(16294),c=n(80272),d=n(7091),f=n(59434),m=n(64983),v=n(55368),h=n(89254),p=n(88067),_=n(75229),x=n(32328),g=n(92986),C=n(17702),Z=n(57689),j=n(71781),b=n(61947),k=n(83060),w=n(95589),D=n(97827),y=n(80184);function S(){var e=(0,f.v9)((function(e){return e.user.loggedInUser})),t=(0,f.I0)(),n=(0,u.useState)(null),S=(0,i.Z)(n,2),N=S[0],A=S[1],B=(0,Z.s0)(),I=(0,u.useState)([]),E=(0,i.Z)(I,2),F=E[0],P=E[1],T=(0,u.useState)(!1),H=(0,i.Z)(T,2),R=H[0],W=H[1],z=(0,u.useState)(null),G=(0,i.Z)(z,2),K=G[0],L=G[1],U=(0,u.useState)({success:!1,error:!1}),V=(0,i.Z)(U,2),X=V[0],q=V[1],J=(0,u.useState)(!1),M=(0,i.Z)(J,2),O=M[0],Q=M[1],Y=(0,u.useState)(!1),$=(0,i.Z)(Y,2),ee=$[0],te=$[1];(0,u.useEffect)((function(){"false"===(null===e||void 0===e?void 0:e.isInvestor)&&(0,h.dW)(e._id).then((function(e){var t=e.data;P(t),L(t.description),A({last_round_investment:t.colorCard.last_round_investment,total_investment:t.colorCard.total_investment,no_of_investers:t.colorCard.no_of_investers,fund_ask:t.colorCard.fund_ask,valuation:t.colorCard.valuation,raised_funds:t.colorCard.raised_funds})})).catch((function(e){console.error("Error fetching startup data:",e)})),window.title="Edit Company Profile | The Capital Hub",t((0,g.Iw)("Edit Company"))}),[O]);var ne=function(e,t){A((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,s.Z)({},e,t))}))},ae=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(o){var s,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.preventDefault(),te(!0),s={description:K,founderId:e._id},n.prev=3,n.next=6,(0,h.Xi)(s);case 6:200===(i=n.sent).status&&(W(!1),te(!1),oe({success:!0}),P((function(e){return(0,r.Z)((0,r.Z)({},e),{},{description:K})})),t((0,D.KF)(i.data))),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0),te(!1),oe({error:!0});case 15:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}(),oe=function(e){q((function(t){return(0,r.Z)((0,r.Z)({},t),e)})),setTimeout((function(){se()}),2e3)},se=function(){q({success:!1,error:!1})};return(0,y.jsx)(x.Z,{children:(0,y.jsxs)("div",{className:"editcompanyProfilePage__wrapper",children:[(0,y.jsxs)("div",{className:"main__content",children:[(0,y.jsx)("span",{className:"back_img rounded-circle shadow-sm",title:"Go Back",children:(0,y.jsx)("img",{src:C.Z,width:20,height:20,onClick:function(){return B(-1)},alt:""})}),(0,y.jsx)("div",{className:"bg-white rounded-4 py-5 px-3 px-md-5",children:(0,y.jsx)(d.Z,{companyData:F,isSaveAll:O,handleShowPopup:oe})}),(0,y.jsx)(b.Z,{companyData:F,companyDescription:K,setCompanyDescription:L,isBioEditable:R,setIsBioEditable:W,submitBioHandler:ae,handleDescriptionChange:function(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+2+"px",L(e.target.value)},loading:ee}),(0,y.jsx)("div",{className:"core__team bg-white rounded-4 py-5 px-3 px-md-5",children:(0,y.jsx)(p.Z,{companyData:F,setCompanyData:P,theme:"startup"})}),(0,y.jsx)("div",{className:"milestones__component bg-white rounded-4 py-5 px-3 px-md-5 d-flex flex-column gap-4",children:(0,y.jsx)(_.Z,{theme:"startup"})}),(0,y.jsxs)("div",{className:"card_holder d-flex justify-content-between flex-wrap",children:[(0,y.jsx)(v.Z,{color:"white",background:"#BB98FF",text:"Last round investment",image:m,amount:(null===N||void 0===N?void 0:N.last_round_investment)||"",onAmountChange:function(e){return ne("last_round_investment",e)},field:"last_round_investment",colorCardData:N}),(0,y.jsx)(v.Z,{color:"white",background:"#DAC191",text:"Total Investment",image:m,amount:(null===N||void 0===N?void 0:N.total_investment)||"",onAmountChange:function(e){return ne("total_investment",e)},field:"total_investment",colorCardData:N}),(0,y.jsx)(v.Z,{color:"white",background:"#DCDCDC",text:"No.of Investers",image:m,amount:(null===N||void 0===N?void 0:N.no_of_investers)||"",onAmountChange:function(e){return ne("no_of_investers",e)},field:"no_of_investers",colorCardData:N,noRupee:!0}),(0,y.jsx)(v.Z,{color:"white",background:"#2B2B2B",text:"Fund ask",image:m,amount:(null===N||void 0===N?void 0:N.fund_ask)||"",onAmountChange:function(e){return ne("fund_ask",e)},field:"fund_ask",colorCardData:N}),(0,y.jsx)(v.Z,{color:"white",background:"#FF7373",text:"Valuation",image:m,amount:(null===N||void 0===N?void 0:N.valuation)||"",onAmountChange:function(e){return ne("valuation",e)},field:"valuation",colorCardData:N}),(0,y.jsx)(v.Z,{color:"white",background:"#9198DA",text:"Raised funds",image:m,amount:(null===N||void 0===N?void 0:N.raised_funds)||"",onAmountChange:function(e){return ne("raised_funds",e)},field:"raised_funds",colorCardData:N})]}),(0,y.jsx)("button",{className:"align-self-end btn-base startup",onClick:function(e){te(!0),ae(e),Q(!0),setTimeout((function(){Q(!1),te(!1)}),1e3)},children:ee?(0,y.jsx)(j.Z,{colorClass:"text-light",spinnerSizeClass:"spinner-border-sm"}):"Save all"})]}),(0,y.jsxs)("div",{className:"right__content",children:[(0,y.jsx)(l.Z,{}),(0,y.jsx)(c.Z,{})]}),X.success&&(0,y.jsx)(k.Z,{successText:"Changes Saved",onClose:se}),X.error&&(0,y.jsx)(w.Z,{message:"Error While Saving! Please try again",onClose:se})]})})}}}]);
//# sourceMappingURL=3090.197e5095.chunk.js.map