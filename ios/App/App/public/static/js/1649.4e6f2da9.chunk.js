"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[1649],{3343:function(e,n,t){t.d(n,{Z:function(){return c}});t(72791);t.p;var a=t(59434),s=t(80184),c=function(e){var n;e.className,e.text,e.width,(0,a.v9)((function(e){return e.user.loggedInUser})),n=(new Date).toDateString(),new Date(n).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"});return(0,s.jsx)(s.Fragment,{})}},61429:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var a=t(74165),s=t(15861),c=t(29439),r=t(72791),o=t(45513),i=t(3343),l=t(16294),d=t(80272),u=t(89254),p=t(59434),h=t(11087),m=t(32328),x=t(79012),f=t(83060),g=t(57689),v=t(92986),j=t(97827),y=t(80184);function N(){var e=(0,g.s0)(),n=(0,p.v9)((function(e){return e.user.loggedInUser})),t=(0,p.v9)(j.Hu),N=(0,p.I0)(),b=(0,r.useState)(t),k=(0,c.Z)(b,2),w=k[0],C=k[1],Z=(0,r.useState)(!1),_=(0,c.Z)(Z,2),S=_[0],D=_[1],I=(0,r.useState)([]),U=(0,c.Z)(I,2),A=U[0],E=U[1],F=(0,r.useState)(null),L=(0,c.Z)(F,2),P=L[0],O=L[1],H=(0,r.useState)(!1),K=(0,c.Z)(H,2),T=K[0],W=K[1];(0,r.useEffect)((function(){t||(D(!0),(0,u.dW)(n._id).then((function(e){var n=e.data;C(n),N((0,j.KF)(n)),D(!1)})).catch((function(e){D(!1),console.error("Error fetching startup data:",e.message)}))),document.title="Company Profile | The Capital Hub",N((0,v.Iw)("Company"))}),[N,t]);var q=function(e){var n=e.target.value;(0,u.DA)(n).then((function(e){var n=e.data;E(n),console.log(n)})).catch((function(){E([])})),O(null)},z=function(e,n){O(e),document.querySelector(".search-company-input").value=n},B=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z4)(n._id,P);case 3:200===e.sent.status&&(W(!0),(0,u.dW)(n._id).then((function(e){var n=e.data;C(n),N((0,j.KF)(n)),O(null),E([])})).catch((function(e){console.error("Error fetching startup data:",e.message)}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var s,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={userId:n._id,startUp:null},t.next=4,(0,u.pp)(s);case 4:c=t.sent,console.log(c),e("/company-profile/edit"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,y.jsx)(m.Z,{children:(0,y.jsxs)("div",{className:"companyProfilePage__wrapper",children:[(0,y.jsxs)("div",{className:"main__content",children:[(0,y.jsx)(i.Z,{text:"Company Profile"}),(0,y.jsx)("div",{className:"edit-container",children:!S&&(0,y.jsx)(y.Fragment,{children:0!==(null===w||void 0===w?void 0:w.length)?(null===w||void 0===w?void 0:w.founderId)===n._id?(0,y.jsx)("div",{className:"bg-white rounded-4 p-4 shadow-sm",children:(0,y.jsx)(h.rU,{to:"/company-profile/edit",className:"text-decoration-none text-dark fs-5",children:"Edit company details"})}):(0,y.jsxs)("div",{className:"bg-white rounded-4 p-4",children:[(0,y.jsx)("button",{className:"btn-base startup",onClick:G,children:"Add new company details"}),(0,y.jsx)("div",{className:"or-text-container",children:(0,y.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Or"})}),(0,y.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Choose from an existing Company"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("input",{type:"text",placeholder:"Search company",className:"search-company-input",onChange:q}),0!==A.length&&(0,y.jsx)("div",{className:"suggestion",children:A.map((function(e,n){return(0,y.jsxs)("div",{className:"suggestion-item ".concat(P===e._id?"active":""),onClick:function(){return z(e._id,e.company)},children:[(0,y.jsx)("img",{src:e.logo||x,alt:"Company Logo ".concat(n),className:"suggestion-logo"}),e.company]},n)}))}),(0,y.jsx)("button",{className:"btn-base startup",onClick:B,children:"Save"})]})]}):(0,y.jsxs)("div",{className:"bg-white rounded-4 p-4",children:[(0,y.jsx)(h.rU,{to:"/company-profile/edit",className:"text-decoration-none text-dark fs-5",children:(0,y.jsx)("button",{className:"btn-base startup",children:"Add company details"})}),(0,y.jsx)("div",{className:"or-text-container",children:(0,y.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Or"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-decoration-none text-dark fs-5",children:"Choose from an existing Company"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("input",{type:"text",placeholder:"Search company",className:"search-company-input",onChange:q}),0!==A.length&&(0,y.jsx)("div",{className:"suggestion",children:A.map((function(e,n){return(0,y.jsxs)("div",{className:"suggestion-item ".concat(P===e._id?"active":""),onClick:function(){return z(e._id,e.company)},children:[(0,y.jsx)("img",{src:e.logo||x,alt:"Company Logo ".concat(n),className:"suggestion-logo"}),e.company]},n)}))}),(0,y.jsx)("button",{className:"btn-base startup",onClick:B,children:"Save"})]})]})]})})}),S?(0,y.jsx)("div",{className:"mx-auto w-100 bg-white rounded-4 p-5 d-flex justify-content-center min-vh-100",children:(0,y.jsx)("div",{class:"spinner-grow orange",role:"status",children:(0,y.jsx)("span",{class:"visually-hidden",children:"Loading..."})})}):0===(null===w||void 0===w?void 0:w.length)?(0,y.jsx)("div",{className:"bg-white rounded-4 p-4",children:(0,y.jsx)("p",{children:"No company found."})}):(0,y.jsx)(o.Z,{isOnelink:!0,companyData:w,startup:"true"})]}),(0,y.jsxs)("div",{className:"right__content",children:[(0,y.jsx)(l.Z,{}),(0,y.jsx)(d.Z,{})]}),T&&(0,y.jsx)(f.Z,{onClose:function(){return W(!T)},successText:"Company Added Successfully"})]})})}}}]);
//# sourceMappingURL=1649.4e6f2da9.chunk.js.map